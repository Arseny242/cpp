#include <time.h>
#include <stdlib.h>
#include<iostream>
using namespace std;
 void swap ( int & a, int & b )
{
  int  c(a); a=b; b=c;
}
void pushdown( int *a, int first, int last)
{ int temp;
    int r=first;
    if (last==2*r+1)
        {
            if (a[r]<a[2*r+1])
            swap(a[r],a[2*r+1]);
            r=last;
        }
        else
    while (r<=(last/2)-1)
    {

                if ((a[r]<a[2*r+1]) && (a[2*r+1]>=a[2*r+2]))
                {
                    swap(a[r],a[2*r+1]);
                r=2*r+1;}
                else
                    if ((a[r]<a[2*r+2]) && (a[2*r+2]>a[2*r+1]))
                {
                     swap(a[r],a[2*r+2]);

                r=2*r+2; }
                else
                r=last;//cout<<r<<" "<<a[r]<<endl;
            }
    }
void heapsort (int *a, int n)
{ int temp;
    for (int i=n/2-1; i>=0; i--)
        pushdown(a,i,n-1);
    for (int i=n-1; i>0; i--)
            {
                swap(a[0],a[i]);
                pushdown(a,0, i-1);
            }

}
int main()
{
       srand(time(NULL));
    const int n = 10;
    int a[n];
    for (int i = 0; i < n; i++)
    {
     a[i] = 500 - rand() % 1000 ;
     cout<<a[i]<<" ";
    }
/*int n; int  a[100]; cin>>n;
    for (int i = 0; i < n; i++)
        cin>>a[i];*/
    heapsort(a,n);
    cout<<endl;
    for (int i = 0; i < n; i++)
        cout<<a[i]<<" ";
        return 0;
}
