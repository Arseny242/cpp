#include <time.h>
#include <stdlib.h>
#include<iostream>
using namespace std;
int findpivot(int a[], int i,int j)
{
      int k;
    for(k=i; k<=j; k++)
        {
            if(a[k]>a[i])
            {
                return k;
            }
        else    {
                if(a[k]<a[i])
                    {
                return i;
                    }
                }
        }
    return -1;
}
int Partition(int a[], int i,int j,int pivot)
{
  int l = i;
  int r = j;

  do
        {
        while (a[l] < pivot) l++;
        while (a[r] >= pivot) r--;
     if (l<r)
    {
        int temp = a[l];
        a[l] = a[r];
        a[r] = temp;
    }
        }
   while (l<=r);
    return l;
}
void Quicksort(int a[],int i,int j)
{
    int pivot, k, pivotindex;
    pivotindex=findpivot(a,i,j);
    if(pivotindex!=-1)
    {
        pivot=a[pivotindex];
        k=Partition(a,i,j,pivot);
        Quicksort(a,i,k-1);
        Quicksort(a,k,j);
    }
}
int t=clock();
int main()
{
    srand(time(NULL));
    const int n = 100;
    int a[n];
    for (int i = 0; i < n; i++)
    {
     a[i] =  rand() % 10000 ;
    }
    Quicksort(a,0, n-1);
    for (int i = 0; i < n; i++)
        cout<<a[i]<<" ";
        cout<<endl;
        cout<<"Time = "<<(double) (clock()-t)/1000<<endl;
    return 0;
}
